<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Visual Trade Copilot - Analytics</title>
  <link rel="stylesheet" href="/app/styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    .overview-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .card {
      background: var(--panel);
      padding: 1.5rem;
      border-radius: 8px;
      border: 1px solid #1f1f1f;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }
    .card h3 {
      margin: 0 0 0.5rem 0;
      font-size: 0.9rem;
      color: var(--muted);
    }
    .card .value {
      font-size: 2rem;
      font-weight: bold;
      color: var(--text);
    }
    .chart-container {
      background: var(--panel);
      padding: 1.5rem;
      border-radius: 8px;
      border: 1px solid #1f1f1f;
      box-shadow: 0 2px 4px rgba(0,0,0,0.3);
      margin-bottom: 2rem;
    }
    .chart-container h2 {
      margin-top: 0;
      color: var(--accent);
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: var(--panel);
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid #1f1f1f;
    }
    th, td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid #1f1f1f;
      color: var(--text);
    }
    th {
      background: #151515;
      color: var(--muted);
      font-weight: 600;
    }
    .positive { color: #22c55e; }
    .negative { color: #ef4444; }
  </style>
</head>
<body>
  <header>
    <h1>Visual Trade Copilot</h1>
    <nav>
      <a href="/app/">Trades</a>
      <a href="/app/teach.html">Teach AI</a>
      <a href="/app/annotate.html">Annotate</a>
      <a href="/app/progress.html">AI Progress</a>
      <a href="/app/strategy.html">Strategy</a>
      <a href="/app/setups.html">Setups</a>
      <a href="/app/entry-methods.html">Entry Methods</a>
      <a href="/app/analytics.html" class="active">Analytics</a>
    </nav>
  </header>

  <main>
    <h1>Trade Analytics</h1>

    <!-- Overview Cards -->
    <div class="overview-cards" id="overview-cards">
      <div class="card">
        <h3>Total Trades</h3>
        <div class="value" id="total-trades">-</div>
      </div>
      <div class="card">
        <h3>Win Rate</h3>
        <div class="value" id="win-rate">-</div>
      </div>
      <div class="card">
        <h3>Avg P&L</h3>
        <div class="value" id="avg-pnl">-</div>
      </div>
      <div class="card">
        <h3>Avg R Multiple</h3>
        <div class="value" id="avg-r">-</div>
      </div>
      <div class="card">
        <h3>Trades with Entry Method</h3>
        <div class="value" id="trades-with-method">-</div>
      </div>
      <div class="card">
        <h3>Entry Methods</h3>
        <div class="value" id="entry-method-count">-</div>
      </div>
    </div>

    <!-- Entry Method Performance Chart -->
    <div class="chart-container">
      <h2>Entry Method Performance</h2>
      <canvas id="entry-method-chart"></canvas>
    </div>

    <!-- Entry Method Comparison Table -->
    <div class="chart-container">
      <h2>Entry Method Statistics</h2>
      <table id="entry-method-table">
        <thead>
          <tr>
            <th>Entry Method</th>
            <th>Total Trades</th>
            <th>Win Rate</th>
            <th>Avg P&L</th>
            <th>Avg R</th>
            <th>Wins</th>
            <th>Losses</th>
          </tr>
        </thead>
        <tbody id="entry-method-tbody">
        </tbody>
      </table>
    </div>

    <!-- Time Patterns Chart -->
    <div class="chart-container">
      <h2>Performance by Trading Session</h2>
      <canvas id="time-patterns-chart"></canvas>
    </div>

    <!-- Direction Patterns Chart -->
    <div class="chart-container">
      <h2>Performance by Direction</h2>
      <canvas id="direction-patterns-chart"></canvas>
    </div>
  </main>

  <script src="/app/analytics.js"></script>
</body>
</html>

